(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(12),o=n(11),i=n.n(o),s=n(13),l=n(4),r=n(5),d=n(1),h=n(8),c=n(7),p=n(0),u=n.n(p),m=n(18),f=n(2),E=n(9),b=n(6),g=n(20),v=["#e88","#ec5","#7a5","#48f","#99e","#e9d"],y=function(t){Object(h.a)(o,t);var n=Object(c.a)(o);function o(e){var t;return Object(l.a)(this,o),(t=n.call(this,e)).handleImportFileAnnotations=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=new FileReader).onload=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,document.getElementById("import-annotations").value=n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.state={ANNOTATIONS:[],annotation_id:1,maxDepth:0,defaultColorInd:0,text:"",textPanes:[],isShowHelp:!0,isShowImport:!1,isShowImportAnnotations:!1,isShowExportAnnotations:!1,isShowSummary:!1,isAutoEditMode:!0},t.handleAutoAnnotate=t.handleAutoAnnotate.bind(Object(d.a)(t)),t.handleAnnotate=t.handleAnnotate.bind(Object(d.a)(t)),t.handleRerender=t.handleRerender.bind(Object(d.a)(t)),t.handleAppend=t.handleAppend.bind(Object(d.a)(t)),t.handleAppendEnter=t.handleAppendEnter.bind(Object(d.a)(t)),t.handleClear=t.handleClear.bind(Object(d.a)(t)),t.handleDeleteAnnotation=t.handleDeleteAnnotation.bind(Object(d.a)(t)),t.handleDefaultColor=t.handleDefaultColor.bind(Object(d.a)(t)),t.onSetSidebarOpen=t.onSetSidebarOpen.bind(Object(d.a)(t)),t.handleExample=t.handleExample.bind(Object(d.a)(t)),t.handleShowImport=t.handleShowImport.bind(Object(d.a)(t)),t.handleImportAppend=t.handleImportAppend.bind(Object(d.a)(t)),t.handleImportReplace=t.handleImportReplace.bind(Object(d.a)(t)),t.handleShowHelp=t.handleShowHelp.bind(Object(d.a)(t)),t.handleShowExportAnnotations=t.handleShowExportAnnotations.bind(Object(d.a)(t)),t.handleShowImportAnnotations=t.handleShowImportAnnotations.bind(Object(d.a)(t)),t.handleImportAnnotations=t.handleImportAnnotations.bind(Object(d.a)(t)),t.handleImportFileAnnotations=t.handleImportFileAnnotations.bind(Object(d.a)(t)),t.handleStartFileUpload=t.handleStartFileUpload.bind(Object(d.a)(t)),t.handleSummarizeAnnotations=t.handleSummarizeAnnotations.bind(Object(d.a)(t)),t.handleEditMode=t.handleEditMode.bind(Object(d.a)(t)),t}return Object(r.a)(o,[{key:"handleEditMode",value:function(){this.setState({isAutoEditMode:!this.state.isAutoEditMode})}},{key:"handleRerender",value:function(e,t){this.reloadTextPanes(this.state.textPanes,e,t)}},{key:"handleDeleteAnnotation",value:function(e){for(var t=-1,n=0;n<this.state.textPanes.length;n++)this.state.textPanes[n].props&&this.state.textPanes[n].props.annotation===e.props.annotation&&(t=n);t>-1&&(this.state.textPanes.splice.apply(this.state.textPanes,[t,1].concat(e.props.children)),this.setState(this.state))}},{key:"reloadTextPanes",value:function(e,t,n){for(var a=0;a<e.length;a++)if(e[a].props&&e[a].props.children){var o=e[a].props.children;Array.isArray(o)||(o=[o]),this.reloadTextPanes(o,t,n),e[a]=u.a.createElement(b.a,{updater:this.handleRerender,deleter:this.handleDeleteAnnotation,key:e[a].key,depth:e[a].props.depth,annotation:e[a].props.annotation,color:e[a].props.annotation===t?n:e[a].props.annotation.color},o)}this.setState(this.state)}},{key:"handleAutoAnnotate",value:function(e){this.state.isAutoEditMode&&this.handleAnnotate(e)}},{key:"handleAnnotate",value:function(e){if(console.log("ANNOTATING"),!document.getElementsByClassName("modal").length&&(console.log(document.getSelection()),console.log(document.getSelection().toString()),document.getSelection()&&document.getSelection().toString().length>0)){var t=document.getSelection(),n=this.getUserInput();if(!n)return;console.log(n);var a=new E.a;a.description=n,a.selection=t.toString(),a.color=v[this.state.defaultColorInd],this.styleSelection(t,a,"textbody"),t.empty()}}},{key:"getUserInput",value:function(){return console.log("GETTING USER INPUT"),window.prompt("What is this annotation for?","")}},{key:"styleSelection",value:function(e,t,n){if(t.id=this.state.annotation_id,t.startIndex=this.getTotalOffset(e.anchorNode,e.anchorOffset,n),t.endIndex=this.getTotalOffset(e.focusNode,e.focusOffset,n),t.startIndex>t.endIndex){var a=t.startIndex;t.startIndex=t.endIndex,t.endIndex=a}var o=this.getDepthRange(t);t.depth=o,this.setState({maxDepth:Math.max(this.state.maxDepth,o)});for(var i=[],s=0,l=this.state.text.length,r=0;r<this.state.textPanes.length;r++){l="string"===typeof this.state.textPanes[r]||this.state.textPanes[r]instanceof String?s+this.state.textPanes[r].length:"br"===this.state.textPanes[r].type?s:this.state.textPanes[r].props.annotation.endIndex;var d=this.processAnnotation(t,this.state.textPanes[r],s,l);i=i.concat(d),s=l}this.setState({textPanes:i}),this.setState({annotation_id:this.state.annotation_id+1}),this.state.ANNOTATIONS.push(t)}},{key:"getDepthRange",value:function(e){for(var t=[],n=0;n<this.state.maxDepth+1;n++)t.push(n+1);var o,i=Object(a.a)(this.state.ANNOTATIONS);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.startIndex<e.endIndex&&e.startIndex<s.endIndex&&(t[s.depth-1]=-1)}}catch(h){i.e(h)}finally{i.f()}for(var l=0,r=t;l<r.length;l++){var d=r[l];if(d>0)return d}return this.state.maxDepth+1}},{key:"getTotalOffset",value:function(e,t,n){for(var a=/(\t|\r)+/,o=t-(e.textContent.substring(0,t).length-e.textContent.substring(0,t).replace(a,"").length),i=e;i!==document.getElementById(n);)null!==i.previousSibling?o+=(i=i.previousSibling).textContent.replace(a,"").length:i=i.parentNode;return o}},{key:"processAnnotation",value:function(e,t,n,a){if(e.startIndex<a&&n<e.endIndex){if("string"===typeof t||t instanceof String){var o=e.startIndex>n?e.startIndex-n:0,i=a-n,s=e.endIndex>a?i:i-(a-e.endIndex);return e.color=v[this.state.defaultColorInd],[t.slice(0,o),u.a.createElement(b.a,{updater:this.handleRerender,deleter:this.handleDeleteAnnotation,key:parseInt(""+e.id+n+a),depth:e.depth,annotation:e,color:e.color},t.slice(o,s)),t.slice(s)]}if("br"===t.type)return[u.a.createElement("br",{key:t.key})];var l=t.props.children;Array.isArray(l)||(l=[l]);for(var r=[],d=0;d<l.length;d++)a="string"===typeof l[d]||l[d]instanceof String?n+l[d].length:l[d].props.annotation.endIndex,r=r.concat(this.processAnnotation(e,l[d],n,a)),n=a;return[u.a.createElement(b.a,{updater:this.handleRerender,deleter:this.handleDeleteAnnotation,key:parseInt(""+e.id+n+a),depth:t.props.depth,annotation:t.props.annotation,color:t.props.annotation.color},r)]}return t}},{key:"handleAppend",value:function(){var e=this.state.textPanes;e.push(""+document.getElementById("append-text").value),e.push(u.a.createElement("br",{key:parseInt("-1"+this.state.text.length+this.state.text.length)})),this.setState({textPanes:e,text:this.state.text+"\n"+document.getElementById("append-text").value}),document.getElementById("append-text").value=""}},{key:"handleAppendEnter",value:function(e){"Enter"===e.key&&this.handleAppend()}},{key:"handleDefaultColor",value:function(){this.setState({defaultColorInd:(this.state.defaultColorInd+1)%v.length})}},{key:"handleImportReplace",value:function(){var e=[];e.push(""+document.getElementById("import-text").value),e.push(u.a.createElement("br",{key:parseInt("-1"+this.state.text.length+this.state.text.length)})),this.setState({ANNOTATIONS:[],annotation_id:1,maxDepth:0,text:"",textPanes:e}),document.getElementById("import-text").value=""}},{key:"handleImportAppend",value:function(){var e=this.state.textPanes;e.push(""+document.getElementById("import-text").value),e.push(u.a.createElement("br",{key:parseInt("-1"+this.state.text.length+this.state.text.length)})),this.setState({textPanes:e,text:this.state.text+"\n"+document.getElementById("import-text").value}),document.getElementById("import-text").value=""}},{key:"handleClear",value:function(){this.setState({ANNOTATIONS:[],annotation_id:1,keys:1,maxDepth:0,text:"",textPanes:[]})}},{key:"onSetSidebarOpen",value:function(e){this.setState({sidebarOpen:e})}},{key:"render",value:function(){var t=this,n=u.a.createElement("div",null,this.state.isShowSummary&&u.a.createElement(g.a,{toggler:this.handleSummarizeAnnotations,annotations:this.state.ANNOTATIONS}),u.a.createElement("div",{id:"textbody",onMouseUp:this.handleAutoAnnotate},this.state.textPanes)),a=u.a.createElement("div",{className:"sideNav"},u.a.createElement("p",{className:"menuItem",onClick:this.handleExample}," Example "),u.a.createElement("p",{className:"menuItem",onClick:this.handleSummarizeAnnotations}," Annotations "),u.a.createElement("p",{className:"menuItem",onClick:this.handleShowImport}," Bulk Plaintext ",this.state.isShowImport?u.a.createElement(f.c,null):u.a.createElement(f.b,null)),this.state.isShowImport&&u.a.createElement("div",null,u.a.createElement("textarea",{id:"import-text",style:{width:"100%",fontSize:"0.75em",height:"12em"},placeholder:"Enter text to input."}),u.a.createElement("button",{style:{width:"50%",fontSize:"0.75em"},onClick:this.handleImportReplace,type:"button"},"Replace"),u.a.createElement("button",{style:{width:"50%",fontSize:"0.75em"},onClick:this.handleImportAppend,type:"button"},"Append")),u.a.createElement("p",{className:"menuItem",onClick:this.handleShowExportAnnotations}," Export Annotations ",this.state.isShowExportAnnotations?u.a.createElement(f.c,null):u.a.createElement(f.b,null)),this.state.isShowExportAnnotations&&u.a.createElement("div",null,u.a.createElement("textarea",{id:"export-annotations",style:{width:"100%",fontSize:"0.75em",height:"12em"},readOnly:!0,value:e.from(JSON.stringify(this.state)).toString("base64")}),u.a.createElement("a",{href:"data:text/plain;charset=utf-8,"+e.from(JSON.stringify(this.state)).toString("base64"),download:"LangAnnotator.txt"},u.a.createElement("button",{style:{width:"100%",fontSize:"0.75em"},type:"button"},"Save as File"))),u.a.createElement("p",{className:"menuItem",onClick:this.handleShowImportAnnotations}," Import Annotations ",this.state.isShowImportAnnotations?u.a.createElement(f.c,null):u.a.createElement(f.b,null)," "),this.state.isShowImportAnnotations&&u.a.createElement("div",null,u.a.createElement("textarea",{id:"import-annotations",style:{width:"100%",fontSize:"0.75em",height:"12em"}}),u.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",flexDirection:"row"}},u.a.createElement("button",{style:{width:"50%",fontSize:"0.75em"},onClick:this.handleImportAnnotations,type:"button"},"Load"),u.a.createElement("button",{style:{width:"50%",fontSize:"0.75em"},onClick:this.handleStartFileUpload,type:"button"},"File Import")),u.a.createElement("input",{type:"file",id:"annotationFileInput",className:"annotationImport",onChange:function(e){return t.handleImportFileAnnotations(e)}})),u.a.createElement("p",{className:"menuItem",onClick:this.handleShowHelp}," Help ",this.state.isShowHelp?u.a.createElement(f.c,null):u.a.createElement(f.b,null)),this.state.isShowHelp&&u.a.createElement("div",{style:{fontSize:"0.75em",padding:"0 0.25em"}},u.a.createElement("p",null,u.a.createElement("b",null,"Highlight")," a part of the text to add an annotation. When in automatic mode, highlighting automatically creates an annotation dialog. When in manual mode, use the brush button at the bottom right to create the annotation for the highlighted text. Toggle between modes using the bottom right gear icon."),u.a.createElement("p",null,u.a.createElement("b",null,"Click")," an annotation to view it or modify it."),u.a.createElement("p",null,"Use the top ",u.a.createElement("b",null,"Append")," bar to add another line to the main text body. Use the ",u.a.createElement("b",null,"Import Plaintext")," option to append large blocks of text."),u.a.createElement("p",null,"Click on the ",u.a.createElement("b",null,"trash can")," to clear the body of text."),u.a.createElement("p",null,"Save the state of your notebook from ",u.a.createElement("b",null,"Export Annotations")," and reload it using ",u.a.createElement("b",null,"Import Annotations"),".")));return u.a.createElement(m.a,{sidebar:a,open:this.state.sidebarOpen,onSetOpen:this.onSetSidebarOpen,styles:{sidebar:{background:"white",width:"25%"}}},u.a.createElement("div",{className:"topNav"},u.a.createElement("div",{className:"menuBar"},u.a.createElement("button",{style:{minHeight:"2em"},onClick:function(){return t.onSetSidebarOpen(!0)}},u.a.createElement(f.a,null)),u.a.createElement("span",null,"LangAnnotator")),u.a.createElement("div",{className:"nav-append"},u.a.createElement("input",{type:"text",id:"append-text",onKeyUp:this.handleAppendEnter}),u.a.createElement("span",{className:"dot-bg"},u.a.createElement("span",{className:"dot",style:{backgroundColor:v[this.state.defaultColorInd]},onClick:this.handleDefaultColor})),u.a.createElement("button",{onClick:this.handleAppend,type:"button"},"Append"),u.a.createElement("button",{onClick:this.handleClear,type:"button"},u.a.createElement(f.h,null)))),u.a.createElement("div",{style:{visibility:"hidden"}},u.a.createElement("div",{className:"menuBar"},u.a.createElement("button",{style:{minHeight:"2em"},onClick:function(){return t.onSetSidebarOpen(!0)}},u.a.createElement(f.a,null)),u.a.createElement("span",null,"LangAnnotator")),u.a.createElement("div",{className:"nav-append"},u.a.createElement("input",{type:"text",id:"append-teaxt",onKeyUp:this.handleAppendEnter}),u.a.createElement("button",{onClick:this.handleAppend,type:"button"},"Append"),u.a.createElement("button",{onClick:this.handleClear,type:"button"},u.a.createElement(f.h,null)))),n,this.state.isAutoEditMode?u.a.createElement("div",{className:"float-option",onClick:this.handleEditMode,style:{bottom:"40px",right:"40px"}},u.a.createElement("div",{className:"float-option-icon"},u.a.createElement(f.d,null)),u.a.createElement("br",null)):u.a.createElement("div",null,u.a.createElement("div",{className:"float-option",onMouseDown:this.handleAnnotate,style:{bottom:"120px",right:"40px"}},u.a.createElement("div",{className:"float-option-icon"},u.a.createElement(f.f,null))),u.a.createElement("div",{className:"float-option",onClick:this.handleEditMode,style:{bottom:"40px",right:"40px"}},u.a.createElement("div",{className:"float-option-icon"},u.a.createElement(f.e,null)))))}},{key:"handleExample",value:function(){var e=new E.a(1,18,26,"cambiar - verb\nto change","cambiar");e.id=1,e.color=v[1];var t=new E.a(1,42,46,'emos/amos indicates that the pronoun is "us"',"emos");t.id=2,t.color=v[0];var n=new E.a(1,99,105,"cambiar","change");n.id=3,n.color=v[1];var a=new E.a(1,146,162,"Guatemalan activist and Nobel Peace prize winner","Rigoberta Menchu");a.id=4,a.color=v[3],this.setState({ANNOTATIONS:[e,t,n,a],annotation_id:5,maxDepth:1,text:"Este mundo no va a cambiar a menos que estemos dispuestos a cambiar nosotros mismos\nThe world won't change unless we're willing to change ourselves\nRigoberta Menchu",textPanes:["Este mundo no va a ",u.a.createElement(b.a,{updater:this.handleRerender,deleter:this.handleDeleteAnnotation,key:parseInt(""+e.id+e.startIndex+e.endIndex),depth:e.depth,annotation:e,color:e.color},"cambiar")," a menos que est",u.a.createElement(b.a,{updater:this.handleRerender,deleter:this.handleDeleteAnnotation,key:parseInt(""+t.id+t.startIndex+t.endIndex),depth:t.depth,annotation:t,color:t.color},"emos")," dispuestos a cambiar nosotros mismos",u.a.createElement("br",{key:1}),"The world won't ",u.a.createElement(b.a,{updater:this.handleRerender,deleter:this.handleDeleteAnnotation,key:parseInt(""+n.id+n.startIndex+n.endIndex),depth:n.depth,annotation:n,color:n.color},"change")," unless we're willing to change ourselves",u.a.createElement("br",{key:2}),"",u.a.createElement(b.a,{updater:this.handleRerender,deleter:this.handleDeleteAnnotation,key:parseInt(""+a.id+a.startIndex+a.endIndex),depth:a.depth,annotation:a,color:a.color},"Rigoberta Menchu"),"",u.a.createElement("br",{key:3})]}),this.setState()}},{key:"handleShowHelp",value:function(){this.setState({isShowHelp:!this.state.isShowHelp})}},{key:"handleShowImport",value:function(){this.setState({isShowImport:!this.state.isShowImport})}},{key:"handleShowImportAnnotations",value:function(){this.setState({isShowImportAnnotations:!this.state.isShowImportAnnotations})}},{key:"handleShowExportAnnotations",value:function(){this.setState({isShowExportAnnotations:!this.state.isShowExportAnnotations})}},{key:"handleImportAnnotations",value:function(){var t=document.getElementById("import-annotations").value,n=JSON.parse(e.from(t,"base64").toString("utf-8"));n.ANNOTATIONS=this.regenerateAnnotations(n.ANNOTATIONS),n.textPanes=this.regenerateTextPanes(n.textPanes,n.ANNOTATIONS),this.setState(n)}},{key:"handleStartFileUpload",value:function(){document.getElementById("annotationFileInput").click()}},{key:"handleSummarizeAnnotations",value:function(){this.setState({isShowSummary:!this.state.isShowSummary})}},{key:"regenerateAnnotations",value:function(e){var t,n=[],o=Object(a.a)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value,s=new E.a(i._depth,i._start,i._end,i._description,""!==i._selection?i._selection:i._description.slice(0,i._description.indexOf(" ")));s.id=i._id,s.color=i._color,n.push(s)}}catch(l){o.e(l)}finally{o.f()}return n}},{key:"regenerateTextPanes",value:function(e,t){var n,o=[],i=Object(a.a)(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;"string"===typeof s||s instanceof String?o.push(s):"br"===s.type?o.push(u.a.createElement("br",{key:s.key})):o.push(u.a.createElement(b.a,{updater:this.handleRerender,deleter:this.handleDeleteAnnotation,key:s.key,depth:s.props.depth,annotation:t[s.props.annotation._id-1],color:s.props.annotation.color},Array.isArray(s.props.children)?this.regenerateTextPanes(s.props.children,t):this.regenerateTextPanes([s.props.children],t)[0]))}}catch(l){i.e(l)}finally{i.f()}return o}}]),o}(u.a.Component)}).call(this,n(26).Buffer)},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(4),o=n(5),i=n(8),s=n(7),l=n(0),r=n.n(l),d=(n(6),function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={isShowing:!0},o}return Object(o.a)(n,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.annotations.length;t++){var n=this.props.annotations[t];e.push(r.a.createElement("span",{key:n.id},r.a.createElement("span",{style:{color:n.color}},n.selection)," - ",n.description))}return r.a.createElement("div",null,this.state.isShowing&&r.a.createElement("div",{className:"modal-bg",onClick:this.props.toggler,style:{color:"black"}},r.a.createElement("div",{id:"summary-modal",className:"modal"},r.a.createElement("div",{className:"modal-inner"},r.a.createElement("div",{className:"modal-header"}),r.a.createElement("hr",null),e))))}}]),n}(r.a.Component))},25:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(16),s=n.n(i),l=(n(25),n(4)),r=n(5),d=n(1),h=n(8),c=n(7),p=n(17),u=function(e){Object(h.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isExample:!0,sidebarOpen:!1},a.onSetSidebarOpen=a.onSetSidebarOpen.bind(Object(d.a)(a)),a.handleExample=a.handleExample.bind(Object(d.a)(a)),a}return Object(r.a)(n,[{key:"onSetSidebarOpen",value:function(e){this.setState({sidebarOpen:e})}},{key:"handleExample",value:function(){this.setState({isExample:!0})}},{key:"render",value:function(){return o.a.createElement(p.a,null)}}]),n}(o.a.Component);n(37),n(15);var m=function(){return o.a.createElement(u,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(4),o=n(5),i=n(1),s=n(8),l=n(7),r=n(0),d=n.n(r),h=n(2),c=(n(36),n(15),["#e88","#ec5","#7a5","#48f","#99e","#e9d"]),p=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={isShowing:!1,isHighlighted:!1,color:o.props.color,isEditing:!1},o.handleDeleter=o.handleDeleter.bind(Object(i.a)(o)),o.handleOnShow=o.handleOnShow.bind(Object(i.a)(o)),o.handleOnClose=o.handleOnClose.bind(Object(i.a)(o)),o.handleColorChange=o.handleColorChange.bind(Object(i.a)(o)),o.handleHover=o.handleHover.bind(Object(i.a)(o)),o.handleEditMode=o.handleEditMode.bind(Object(i.a)(o)),o.handleViewMode=o.handleViewMode.bind(Object(i.a)(o)),o.handleViewModeReset=o.handleViewModeReset.bind(Object(i.a)(o)),o}return Object(o.a)(n,[{key:"handleHover",value:function(){}},{key:"handleDeleter",value:function(){this.props.deleter(this)}},{key:"handleColorChange",value:function(e){this.setState({color:e}),this.props.annotation.color=e,this.props.updater(this.props.annotation,e)}},{key:"handleOnShow",value:function(){this.state.isShowing||this.setState({isShowing:!0})}},{key:"handleOnClose",value:function(e){document.getElementsByClassName("modal").length&&!document.getElementsByClassName("modal")[0].contains(e.target)&&this.setState({isShowing:!1}),e.stopPropagation()}},{key:"handleEditMode",value:function(){this.setState({isEditing:!this.state.isEditing})}},{key:"handleViewMode",value:function(){this.props.annotation.description=document.getElementById("updatedDescription").value,this.setState({isEditing:!this.state.isEditing})}},{key:"handleViewModeReset",value:function(){document.getElementById("updatedDescription").value=this.props.annotation.description,this.setState({isEditing:!this.state.isEditing})}},{key:"render",value:function(){var e=this,t=c.map((function(t){return d.a.createElement("span",{onClick:function(){return e.handleColorChange(t)},className:"color-selector",key:t,style:{backgroundColor:t}})}));return d.a.createElement("span",null,d.a.createElement("span",{className:(this.state.isHighlighted,"annotation-btn"),onMouseOver:this.handleHover,onClick:this.handleOnShow,style:{background:"linear-gradient(0deg, ".concat(this.props.annotation.color,", white 1px, transparent 1px)"),lineHeight:"".concat(this.props.depth-1+20,"px"),paddingBottom:"".concat(4*(this.props.depth-1),"px"),color:this.props.annotation.color}},this.props.children),this.state.isShowing&&d.a.createElement("div",{className:"modal-bg",onClick:this.handleOnClose,style:{color:"black"}},d.a.createElement("div",{className:"modal"},d.a.createElement("div",{className:"modal-inner"},d.a.createElement("div",{className:"modal-header"},t),d.a.createElement("hr",null),!this.state.isEditing&&d.a.createElement("div",{className:"modal-desc"},d.a.createElement("span",{className:"modal-desc-text"},this.props.annotation.description),d.a.createElement("br",null),d.a.createElement("div",{className:"optionsBar"},d.a.createElement("span",{className:"lowOptions",onClick:this.handleEditMode,size:5},d.a.createElement(h.g,null)),d.a.createElement("span",{className:"lowOptions",onClick:this.handleDeleter,size:5},d.a.createElement(h.h,null)))),this.state.isEditing&&d.a.createElement("div",{className:"modal-desc"},d.a.createElement("textarea",{id:"updatedDescription",defaultValue:this.props.annotation.description}),d.a.createElement("div",null,d.a.createElement("button",{class:"modal-submit",type:"button",onClick:this.handleViewMode},"Update Description"),d.a.createElement("button",{class:"modal-reset",type:"button",onClick:this.handleViewModeReset},"Cancel")))))))}}]),n}(d.a.Component)},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),o=n(5),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(a.a)(this,e),this._groups=[],this.depth=t,this.startIndex=n,this.endIndex=o,this.description=i,this.selection=s}return Object(o.a)(e,[{key:"id",set:function(e){this._id=e},get:function(){return this._id}},{key:"groups",set:function(e){this._groups=e},get:function(){return this._groups}},{key:"startIndex",set:function(e){this._start=e},get:function(){return this._start}},{key:"endIndex",set:function(e){this._end=e},get:function(){return this._end}},{key:"depth",set:function(e){this._depth=e},get:function(){return this._depth}},{key:"title",set:function(e){this._title=e},get:function(){return this._title}},{key:"description",set:function(e){this._description=e},get:function(){return this._description}},{key:"selection",set:function(e){this._selection=e},get:function(){return this._selection}},{key:"color",set:function(e){this._color=e},get:function(){return this._color}}]),e}()}},[[38,1,2]]]);
//# sourceMappingURL=main.dd75e6d2.chunk.js.map